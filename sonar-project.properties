# SonarQube Project Configuration - Task 3
# Static Application Security Testing (SAST) Configuration
# Contributes to DevSecOps Pipeline (30 marks)

# ================================
# PROJECT INFORMATION
# ================================
sonar.projectKey=insy7314-thebteam
sonar.projectName=INSY7314 The B Team - Secure Payment Portal
sonar.projectVersion=1.0.0
# SonarCloud organization name (your GitHub username)
sonar.organization=Keentsem

# ================================
# SOURCE CODE DIRECTORIES
# ================================
# Include both client and server source code
sonar.sources=client/src,server

# Exclude test files from main source
sonar.exclusions=**/*.test.js,**/*.test.jsx,**/__tests__/**,**/node_modules/**,**/coverage/**,**/dist/**,**/build/**,**/*.config.js,**/*.config.cjs

# ================================
# TEST DIRECTORIES
# ================================
sonar.tests=client/src/__tests__,server/__tests__
sonar.test.inclusions=**/*.test.js,**/*.test.jsx

# ================================
# CODE COVERAGE
# ================================
# Include LCOV coverage reports from both workspaces
sonar.javascript.lcov.reportPaths=client/coverage/lcov.info,server/coverage/lcov.info

# Coverage exclusions (files that don't need coverage)
sonar.coverage.exclusions=**/*.test.js,**/*.test.jsx,**/__tests__/**,**/*.config.js,**/vite.config.js,**/tailwind.config.js

# ================================
# LANGUAGE SETTINGS
# ================================
sonar.language=js
sonar.sourceEncoding=UTF-8

# ================================
# QUALITY GATES
# ================================
# Set strict quality gate thresholds for high security marks

# Code Coverage: Aim for >60% (exceeds standard 50%)
# This demonstrates comprehensive testing
sonar.coverage.threshold=60

# Code Duplication: Keep below 3%
# Shows good code organization
sonar.cpd.exclusions=**/*.test.js

# Security Hotspots: Must review all
# Critical for security-focused project
sonar.security_hotspots.threshold=0

# Bugs: No blocker or critical bugs allowed
sonar.bugs.threshold=0

# Vulnerabilities: No critical or high vulnerabilities
sonar.vulnerabilities.threshold=0

# Code Smells: Keep maintainability high
sonar.code_smells.threshold=5

# Technical Debt: Maximum 5% debt ratio
sonar.sqale.rating=A

# ================================
# ANALYSIS PARAMETERS
# ================================
# Enable security analysis
sonar.security.enable=true

# Enable vulnerability detection
sonar.javascript.detectVulnerabilities=true

# Scan all JavaScript/TypeScript files
sonar.javascript.file.suffixes=.js,.jsx

# ================================
# SECURITY-SPECIFIC SETTINGS
# ================================
# SQL Injection Detection
sonar.javascript.sql_injection.enable=true

# XSS Detection
sonar.javascript.xss.enable=true

# Path Traversal Detection
sonar.javascript.path_traversal.enable=true

# Command Injection Detection
sonar.javascript.command_injection.enable=true

# Authentication and Authorization Issues
sonar.javascript.insecure_auth.enable=true

# Cryptographic Issues
sonar.javascript.weak_cryptography.enable=true

# ================================
# IGNORED ISSUES (IF ANY)
# ================================
# Document any intentionally ignored issues
# Format: sonar.issue.ignore.multicriteria.<key>.ruleKey=<rule>
#         sonar.issue.ignore.multicriteria.<key>.resourceKey=<file pattern>

# Example: Ignore specific security warnings in test files
sonar.issue.ignore.multicriteria=e1
sonar.issue.ignore.multicriteria.e1.ruleKey=javascript:S3696
sonar.issue.ignore.multicriteria.e1.resourceKey=**/*.test.js

# ================================
# ADDITIONAL METADATA
# ================================
sonar.links.homepage=https://github.com/your-org/insy7314-thebteam
sonar.links.ci=https://circleci.com/gh/your-org/insy7314-thebteam
sonar.links.scm=https://github.com/your-org/insy7314-thebteam

# ================================
# ANALYSIS SCOPE
# ================================
# Include employee portal security analysis
sonar.inclusions=client/src/components/employee/**/*.jsx,server/routes/**/*.js,server/middleware/**/*.js

# Focus on security-critical files
sonar.security.hotspots.included=server/routes/auth.js,server/routes/payments.js,server/middleware/employeeAuth.js,server/middleware/csrfProtection.js,server/middleware/securityMonitoring.js

# ================================
# PERFORMANCE SETTINGS
# ================================
# Optimize scan performance
sonar.scm.disabled=false
sonar.scm.provider=git

# Skip binary files
sonar.scm.exclusions.disabled=true

# ================================
# DOCUMENTATION
# ================================
# Purpose: Static Application Security Testing for INSY7314 Task 3
# Target: 20-30 marks for DevSecOps Pipeline
# Focus Areas:
#   - Security vulnerability detection
#   - Code quality analysis
#   - Test coverage measurement
#   - Technical debt tracking
#   - Best practices enforcement
